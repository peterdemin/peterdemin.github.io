
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Developer Handbook documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="developer-s-handbook">
<h1>Developer’s Handbook<a class="headerlink" href="#developer-s-handbook" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<span id="document-high-level"></span><section id="high-level-principles">
<h2><span class="section-number">1. </span>High-level principles<a class="headerlink" href="#high-level-principles" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-slow"></span><section id="stay-fast">
<h3><span class="section-number">1.1. </span>Stay fast<a class="headerlink" href="#stay-fast" title="Permalink to this headline">¶</a></h3>
<section id="what-is-slow">
<h4><span class="section-number">1.1.1. </span>What is slow<a class="headerlink" href="#what-is-slow" title="Permalink to this headline">¶</a></h4>
<p>Throughout my software engineering career, I noticed that the bigger the company, the slower is software development.
Speed loss is visible in the following aspects:</p>
<ul class="simple">
<li><p>Deploying a new service requires sign-offs from several people and a few manual steps.</p></li>
<li><p>Getting a change to production takes enough CI/CD time to break a <a class="reference external" href="https://en.wikipedia.org/wiki/Flow_state">flow state</a>.</p></li>
<li><p>Completed projects keep draining hours through maintenance.</p></li>
<li><p>Onboarding new team member takes weeks or months to learn all the internal tooling and processes.</p></li>
<li><p>Small decisions require synchronous collaboration between people who otherwise don’t work side-by-side.</p></li>
</ul>
<p>Slowness wears many faces, but they all share the same details.
Someone who was responsible for adding a new process, did not put enough weight on the ongoing speed side of scales.
Maybe the task was considered too rare. Maybe team was in a crunch and didn’t have enough bandwidth to automate it.
Either way, time saved for one (or several) developer once taxes the whole team again and again.</p>
</section>
<section id="case-study-infrastructure-provisioning-with-approval">
<h4><span class="section-number">1.1.2. </span>Case-study: infrastructure provisioning with approval<a class="headerlink" href="#case-study-infrastructure-provisioning-with-approval" title="Permalink to this headline">¶</a></h4>
<section id="how-to-go-slow">
<h5><span class="section-number">1.1.2.1. </span>How to go slow<a class="headerlink" href="#how-to-go-slow" title="Permalink to this headline">¶</a></h5>
<p>As the product grows, the engineering team discovers repeatable tasks and introduces standard ways to complete them.
One option is to add an instruction: a set of manual steps to complete a task.
For example:</p>
<ol class="arabic simple">
<li><p>Search internal docs for FAQ on creating a new database.</p></li>
<li><p>Fill out a particular form with database name/permissions/retention policy.</p></li>
<li><p>Open a DBA ticket with a linked form.</p></li>
<li><p>Wait for manager approval.</p></li>
<li><p>Wait for DBA to exercise the database creation process.</p></li>
<li><p>Receive credentials for the new database and commit them to the project’s secrets storage.</p></li>
</ol>
<p>Compare the complexity of this process to running a local database container or clicking through database provisioning questionary in commercial PaaS.
The task that is not essential to the company’s busyness, doesn’t provide any value of its own, and takes a few hours of cumulative effort while providing little but frustration and stress.</p>
<p>The mere existence of database creation instructions is already a sign of slowness.</p>
</section>
<section id="how-to-get-faster">
<h5><span class="section-number">1.1.2.2. </span>How to get faster<a class="headerlink" href="#how-to-get-faster" title="Permalink to this headline">¶</a></h5>
<p>Another option is to add a script/tool that automates this process in the local developer environment.
Same task could be done as follows:</p>
<ol class="arabic simple">
<li><p>Find which tool creates new database.</p></li>
<li><p>Run it locally to create a new configuration file.</p></li>
<li><p>Wait for the approval of a pull request with the new file.</p></li>
<li><p>Merge the pull request.</p></li>
</ol>
<p>This scenario looks more friendly and reduces DBA and ticket system to a shell script.
But still, developer has to wait and break the flow state for infrastructure provisioning.</p>
</section>
<section id="how-to-go-fast">
<h5><span class="section-number">1.1.2.3. </span>How to go fast<a class="headerlink" href="#how-to-go-fast" title="Permalink to this headline">¶</a></h5>
<p>The best way to move fast is to have no friction points:</p>
<ul class="simple">
<li><p>Keep all configuration and decisions in one place (inside of source code repository).</p></li>
<li><p>Trust developers to do the right thing in development environment.</p></li>
<li><p>Perform approvals and review asynchronously before deployment to production environment.</p></li>
</ul>
<p>Here’s a fast way to solve the above task.</p>
<ol class="arabic simple">
<li><p>Add new database configuration to the source code.</p></li>
<li><p>Start using it in local environment.</p></li>
<li><p>When the prototype is ready, try to push the code to the upstream and get blocked by a database existence check.</p></li>
<li><p>Read through the check error message to understand which script to run.</p></li>
<li><p>Run the script locally to create a new configuration file.</p></li>
<li><p>Merge the pull request.</p></li>
<li><p>Review and approval of the database parameters is performed after the merge, asynchronously.</p></li>
<li><p>Until the review is done, production deployment is blocked.</p></li>
</ol>
</section>
</section>
<section id="case-study-slow-ci-cd">
<h4><span class="section-number">1.1.3. </span>Case-study: slow CI/CD<a class="headerlink" href="#case-study-slow-ci-cd" title="Permalink to this headline">¶</a></h4>
<section id="id1">
<h5><span class="section-number">1.1.3.1. </span>How to go slow<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>As the product complexity grows, team starts adding integrational and end-to-end tests,
that provide a safety net for critical features and a high-level proof that the product works.</p>
<p>Both kinds of tests rely on huge parts of code and have to be run on almost any change to the codebase.
At the same time, these tests are flaky and their failure doesn’t indicate any particular failure on its own.
Also, they take significant amount of processing time (setting up test databases, making network calls, starting web browser).</p>
</section>
<section id="id2">
<h5><span class="section-number">1.1.3.2. </span>How to go fast<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h5>
<p>The proper way to test software integrations is to have a clean interface and isolated tests for them.</p>
<ul class="simple">
<li><p>Assert that API is called with expected arguments on consumer side.</p></li>
<li><p>Assert that all different kinds of inputs produce expected output on the library side.</p></li>
<li><p>Do not cover third-party libraries, only integration.</p></li>
</ul>
</section>
</section>
<section id="conclusion">
<h4><span class="section-number">1.1.4. </span>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>It’s easy to accidentally introduce new processes that kills developer’s experience.</p></li>
<li><p>To keep the speed at the same level, two aspects must be considered: automation and unblocking.</p></li>
<li><p>All non-decision-making steps must be automated.</p></li>
<li><p>For the low-risk actions, review step should be asynchronous.</p></li>
<li><p>Approval process for high-risk actions must be streamlined.</p></li>
</ul>
</section>
</section>
<span id="document-api"></span><section id="organize-code">
<h3><span class="section-number">1.2. </span>Organize code<a class="headerlink" href="#organize-code" title="Permalink to this headline">¶</a></h3>
<section id="split-code-into-small-independent-libraries">
<h4><span class="section-number">1.2.1. </span>Split code into small independent libraries<a class="headerlink" href="#split-code-into-small-independent-libraries" title="Permalink to this headline">¶</a></h4>
</section>
<section id="join-libraries-in-components">
<h4><span class="section-number">1.2.2. </span>Join libraries in components<a class="headerlink" href="#join-libraries-in-components" title="Permalink to this headline">¶</a></h4>
</section>
<section id="expose-components-through-services">
<h4><span class="section-number">1.2.3. </span>Expose components through services<a class="headerlink" href="#expose-components-through-services" title="Permalink to this headline">¶</a></h4>
</section>
<section id="configure-services-in-environments">
<h4><span class="section-number">1.2.4. </span>Configure services in environments<a class="headerlink" href="#configure-services-in-environments" title="Permalink to this headline">¶</a></h4>
</section>
</section>
<span id="document-framework"></span><section id="beware-the-framework-beast">
<h3><span class="section-number">1.3. </span>Beware the framework beast<a class="headerlink" href="#beware-the-framework-beast" title="Permalink to this headline">¶</a></h3>
<section id="the-tale-of-upgrading-django">
<h4><span class="section-number">1.3.1. </span>The tale of upgrading Django<a class="headerlink" href="#the-tale-of-upgrading-django" title="Permalink to this headline">¶</a></h4>
</section>
</section>
<span id="document-monorepo"></span><section id="keep-all-code-in-one-repository">
<h3><span class="section-number">1.4. </span>Keep all code in one repository<a class="headerlink" href="#keep-all-code-in-one-repository" title="Permalink to this headline">¶</a></h3>
</section>
</div>
</section>
</div>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Developer Handbook</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-high-level">1. High-level principles</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Peter Demin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>